[libdefaults]

    default_tgs_encrypes = aes128-cts-hmac-sha256-128 aes256-cts-hmac-sha384-192 aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96 camellia256-cts-cmac camellia128-cts-cmac
    default_tkt_enctypes = aes128-cts-hmac-sha256-128 aes256-cts-hmac-sha384-192 aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96 camellia256-cts-cmac camellia128-cts-cmac
    permitted_enctypes   = aes128-cts-hmac-sha256-128 aes256-cts-hmac-sha384-192 aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96 camellia256-cts-cmac camellia128-cts-cmac
    clockskew = 300
    kdc_timesync = 1
    default_ccache_name = KEYRING:process:krb_cache
    ccache_type = 4
    forwardable = false
    proxiable = false
    default_realm = {{ item.value.domain_name | upper }}

[realms]
    {{ item.value.domain_name | upper }} = {
        kdc = {{ item.value.hostname }}.{{ item.value.domain_name }}
        admin_server = {{ item.value.hostname }}.{{ item.value.domain_name }}
        kpasswd_server = {{ item.value.hostname }}.{{ item.value.domain_name }}
        default_domain = {{ item.value.domain_name }}
    }

[domain_realm]
    {{ item.value.domain_name }} = {{ item.value.domain_name | upper }}
    .{{ item.value.domain_name }} = {{ item.value.domain_name | upper }}
    # python3 -c 'import socket; print(socket.getfqdn())'
    {{ plbr_hostname }}.{{ item.value.domain_name }} = {{ item.value.domain_name | upper }}

